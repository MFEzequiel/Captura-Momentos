<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base de Datos con tkinter</title>
    <link rel="stylesheet" href="../../css/style.css">
    <script src="../../js/main.js" defer></script>
</head>
<body>
    <header class="header">
        <button class="bt">
            <div class="d"></div>
            <div class="d"></div>
            <div class="d"></div>
        </button>
        <nav class="hnav">
            <ul class="menu" data-1="../../index.html"data-2="../html/views.html"data-3="../css/iinitcss.html"data-4="../js/JavaScript.html"data-5="../python/iniciopy.html"data-6="../otros/documentation.html"></ul>
        </nav>
    </header>
    <div class="container">
        <nav class="cnav">
            <h4 class="title1">Contenido</h4>
            <ul class="ul">
                <li><a href="#">Conexión a una base de datos con tkinter.</a></li>
                <li><a href="#">Creación de la ventana.</a></li>
                <li><a href="#">Establecer una conexión con MySQL.</a></li>
                <li><a href="#">Creación de la ventana.</a></li>
                <li><a href="#">Creación de la ventana.</a></li>
            </ul>
        </nav>
        <main class="main">
            <section class="msect1">
                <article class="sart">
                    <picture class="art-pict">
                        <img src="../../img/pylogo.png" alt="">
                    </picture>
                    <h2 class="title">Python, Tkinter, MySQL y Laragon</h2>
                </article>
                <article class="sect1_art">
                    <h1 class="title1">Conexión a una base de datos con tkinter.</h1>
                    <p>La forma en que se maneja la conexión a la base de datos en este código no es la mejor. Es más combeniente separar las responsabilidades para mantener un código más organizado y fácil de mantener a largo plazo.</p>
                    <hr>
                    <p><strong class="title1">Recomendación:</strong></p>
                    
                        <p><strong>Separación de responsabilidades:</strong> En lugar de manejar la conexión directamente en la función db, podrías crear una <strong>clase</strong> o un <strong>módulo</strong> dedicado para manejar la conexión y las consultas a la base de datos.</p>

                        <p><strong>Evitar consultas directas:</strong> Ejecutar consultas directas en la interfaz gráfica puede ralentizar la aplicación y hacerla menos segura. Una práctica recomendada es separar la lógica de la base de datos de la interfaz gráfica.</p>
                    <hr>
                    <h2 class="title1">Creación de la ventana.</h2>
                    <p>Lo primero sera importar la libreria tkinter para crear nuestra ventana.</p>
                </article>
                <div class="code-editor">
                    <pre class="s1_par_js">
                        <span class="titlecd">Python</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="icon"><g stroke-width="0" id="SVGRepo_bgCarrier"></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g><g id="SVGRepo_iconCarrier"> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M6 6L18 18"></path> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M18 6L6 18"></path> </g></svg>
                    </pre>
                    <pre class="edit_content">
<code class="code">
    <span class="b">import</span> tkinter <span class="b">as</span> tk
    
    root = tk.Tk<span class="y">()</span>

    root.mainloop<span class="y">()</span>
</code>
                    </pre>
                </div>
                <article class="sect1_art">
                    <p>Escribe <strong>python name.py</strong> en la consola para ejecutar el archivo <strong>.py</strong> si púedes ver la ventana significa que no se produjo ningun error.</p>
                </article>
                <div class="code-editor">
                    <pre class="s1_par_js">
                        <span class="titlecd">cmd</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="icon"><g stroke-width="0" id="SVGRepo_bgCarrier"></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g><g id="SVGRepo_iconCarrier"> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M6 6L18 18"></path> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M18 6L6 18"></path> </g></svg>
                    </pre>
                    <pre class="edit_content">
<code class="code">
    PS E:\Python-cod\C++ and Python\PractN°1 C++\db>python demo_mysql_connection.py
</code>
                    </pre>
                </div>
                <article class="sect1_art">
                    <p>La <strong>E:\Python-cod\C++ and Python\PractN°1 C++\db></strong> es la dirección en donde se encuentra mi archivo <strong>.py</strong>, remplasa <strong>name</strong> por el nombre que as eleguido para tu archivo <strong>.py</strong>, en mi caso el nombre de mi archivo es <strong>demo_mysql_connection.py</strong>, recuerda dejar un espacio entre <strong>python</strong> y el nombre de tu archivo <strong>.py</strong>.</p>
                </article>
            </section>
            <section class="msect1">
                <h2 class="title1">Establecer una conexión con MySQL.</h2>
                <p>Antes de establecer una conexión con nuestra base de datos <strong>MySQL</strong>, primero tenemos que iniciar <strong>Laragon</strong> para acceder a la base de datos,crear la base de datos users, por lo general esta ya esta creada o si quieres crear una nueva DB puedes hacerlo, crear la tabla user/s, las columnas <strong>id,fullname,password</strong>, seda por sentado que ya sabes crear una DB, finalmente importamos el modulo <strong>import mysql.connector</strong>.</p>
                <div class="code-editor">
                    <pre class="s1_par_js">
                        <span class="titlecd">Python</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="icon"><g stroke-width="0" id="SVGRepo_bgCarrier"></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g><g id="SVGRepo_iconCarrier"> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M6 6L18 18"></path> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M18 6L6 18"></path> </g></svg>
                    </pre>
                    <pre class="edit_content">
<code class="code">
    <span class="g"><span class="b">import</span> tkinter <span class="b">as</span> tk</span>
    <span class="b">import</span> mysql.connector

    <span class="d"># Establecer una conexión con nuestra base de datos</span>
    <span class="b">def</span> db <span class="y">()</span>:
        mydb = mysql.connector.connect <span class="y">(</span>
            host= <span class="r">'localhost'</span>,
            user=<span class="r">'root'</span>,
            password=<span class="r">' '</span>,
            db=<span class="r">'users'</span>
        )
        obt_db = mydb.cursor<span class="y">()</span>
        sql = <span class="r">'SELECT * FROM user'</span>
        obt_db.execute<span class="y">(</span>sql<span class="r">)</span>
        data = <span class="y">[</span>db <span class="b">for</span> db <span class="b">in</span> obt_db<span class="y">]</span>
        obt_db.close<span class="y">()</span>
        mydb.close<span class="y">()</span>
        <span class="b">return</span> data

<span class="g">
    root = tk.Tk<span class="y">()</span>
    
    root.mainloop<span class="y">()</span>
</span>
</code>
                    </pre>
                </div>
                <article class="sect1_art">
                    <h3 class="title1">Explicación de la función db</h3>
                    <p>La variable <strong>mydb</strong> utilizara el modulo <strong>mysql.connector</strong> y la función <strong>connect()</strong> nos permitirá realizar la conexión con la <strong>base de datos</strong>, la bariable <strong>obt_db</strong> almacena la base de datos <strong>users</strong>, <strong>sql</strong> recuperar los datos de la <strong>tabal de user</strong> que se encuentra dentro de la <strong>base de datos users</strong>, finalmente itermaos la DB pra obtener los datos qu existen en  <strong>user</strong> y de retornamos los datos  obtenidos.</p>
                    <ul>
                        <li>
                            <p>host= <strong>'localhost'</strong>, es la URL local de nuestro equipo.</p>
                        </li>
                        <br>
                        <li>
                            <p>user=<strong>'root'</strong>, es el usuario que hayas configurado para tu base de datos.</p>
                        </li>
                        <br>
                        <li>
                            <p>password=<strong>' '</strong> en mi caso no configure una contraceña pero si configuraste un contraseña ponla entre las comillas simples.</p>
                        </li>
                        <br>
                        <li>
                            <p>db=<strong>'users'</strong>, aquí estamos seleccionado la base de datos.</p>
                        </li>
                    </ul>
                    <h2 class="title1">Insertando los datos obtenidos</h2>
                    <p>Ahora pasaremos a crear una tabla para poder agregar los datos recuperados de la DB, para ello importaremos el modulo <strong>ttk</strong>.</p>
                </article>
                <div class="code-editor">
                    <pre class="s1_par_js">
                        <span class="titlecd">Python</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="icon"><g stroke-width="0" id="SVGRepo_bgCarrier"></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g><g id="SVGRepo_iconCarrier"> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M6 6L18 18"></path> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M18 6L6 18"></path> </g></svg>
                    </pre>
                    <pre class="edit_content">
<code class="code">
<span class="g">
    <span class="b">import</span> tkinter <span class="b">as</span> tk
</span>
    <span class="b">from</span> tkinter <span class="b">import</span> ttk
<span class="g">
    <span class="b">import</span> mysql.connector

    <span class="d"># Establecer una conexión con nuestra base de datos</span>
    <span class="b">def</span> db<span class="y">()</span>:
        mydb = mysql.connector.connect <span class="y">(</span>
            host= <span class="r">'localhost'</span>,
            user=<span class="r">'root'</span>,
            password=<span class="r">''</span>,
            db=<span class="r">'users'</span>
        )
        obt_db = mydb.cursor<span class="y">()</span>
        sql = <span class="r">'SELECT * FROM user'</span>
        obt_db.execute<span class="y">(</span>sql<span class="r">)</span>
        data = <span class="y">[</span>db <span class="b">for</span> db <span class="b">in</span> obt_db<span class="y">]</span>
        obt_db.close<span class="y">()</span>
        mydb.close<span class="y">()</span>
        <span class="b">return</span> data



    root = tk.Tk<span class="y">()</span>
</span>
    <span class="d"># Creamos nuestra tabla</span>
    tabla = ttk.Treeview<span class="y">(</span>root,columns=<span class="y">(</span><span class="r">'Usuario','Contraseña'</span><span class="y">))</span>
    tabla.grid<span class="y">(</span>row=0, column=0, columnspan=3<span class="y">)</span>

    <span class="d"># Encavezados</span>
    tabla.heading<span class="y">(</span><span class="r">'#0'</span>,text=<span class="r">'id'</span><span class="y">)</span>
    tabla.heading<span class="y">(</span><span class="r">'#1'</span>,text=<span class="r">'fullname'</span><span class="y">)</span>
    tabla.heading<span class="y">(</span><span class="r">'#2'</span>,text=<span class="r">'password'</span><span class="y">)</span>

    <span class="d"># Valores de las columnas</span>
    <span class="b">def</span> display_db<span class="y">()</span>:
        data = db<span class="y">()</span>
        data.reverse<span class="y">()</span>
        <span class="b">for</span> i <span class="b">in</span> data:
            tabla.insert <span class="y">(</span><span class="r">''</span>, 0, text=i<span class="v">[</span>0<span class="v">]</span>, values=<span class="y">(</span>i<span class="v">[</span>1<span class="v">]</span>,</span>i<span class="v">[</span>2<span class="v">]</span><span class="y">)</span><span class="y">)</span>

    <span class="d"># Llamar a la función</span>
    display_db<span class="y">()</span>
<span class="g">
    root.mainloop<span class="y">()</span>
</span>
</code>
                    </pre>
                </div>
            </section>
            
        </main>
    </div>
</body>
</html>