<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial JavaScript AJAX</title>
    <link rel="stylesheet" href="../../css/style.css">
    <script src="../../js/main.js" defer></script>
</head>
<body>
    <header class="header">
        <button class="bt">
            <div class="d"></div>
            <div class="d"></div>
            <div class="d"></div>
        </button>
        <nav class="hnav">
            <ul class="menu" data-1="../../index.html"data-2="../html/views.html"data-3="../css/iinitcss.html"data-4="../js/JavaScript.html"data-5="../python/iniciopy.html"data-6="../otros/documentation.html"></ul>
        </nav>
    </header>

    <div class="container">
        <nav class="cnav">
            <h4 class="title1">Contenido</h4>
            <ul class="ul">
                <li><a href="#">Introducción</a></li>
                <li><a href="#">Enviando y recibiendo datos JSON a través de POST</a></li>
            </ul>
        </nav>
        <main class="main">
            <section class="msect1">
                <article class="sart">
                    <picture class="art-pict">
                        <img src="../../img/javascript.png" alt="">
                    </picture>
                    <h2 class="title">AJAX</h2>
                </article>
                <h3 class="title1">Introducción</h3>
                <p><strong>AJAX</strong> significa <strong>A</strong>avasScript <strong>J</strong>avasScript <strong>A</strong>nd  <strong>X</strong>ML. Aunque el nombre incluye XML,, JSON se usa más a menudo debido a su formato más simple y menor redundancia.</p>
                <p>Permite al usuario comunicarce con recursos exterenos, la página web envía solisitudes HTTP al servidor y recivan una respuesta, sin necesidad de volver a cargar la página.</p>
                <h3 class="title1">Ejemplo</h3>
                <br>
                <div class="code-editor">
                    <pre class="s1_par_js">
                        <span class="titlecd">AJAX</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="icon"><g stroke-width="0" id="SVGRepo_bgCarrier"></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g><g id="SVGRepo_iconCarrier"> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M6 6L18 18"></path> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M18 6L6 18"></path> </g></svg>
                    </pre>
                    <pre class="edit_content">
<code class="code">
    
<span class="b">let</span> xhttp = <span class="b">new</span> XMLHttpRequest<span class="y">()</span>;

xhttp.onreadystatechange = <span class="b">function</span><span class="y">() {</span>
    <span class="b">if </span><span class="v">(</span>xhttp.readyState === XMLHttpRequest.DONE && xhttp.status === 200 <span class="v">){</span>
        <span class="d">//parse the response in xhttp.responseText;</span>
    <span class="v">}</span>
<span class="y">}</span>;
xhttp.open <span class="y">( <span class="r">"GET", "ajax_info.txt"</span>, <span class="c">true</span>)</span>;
xhttp.send <span class="y">()</span>;
</code>
                    </pre>
                </div>
                <br>
                <br>
                <br>
                <p>La <strong>API</strong> de <strong>fetch</strong> es una forma <a href="#">basada en la promesa</a> de realizar solicitudes <strong>HTTP</strong> asíncronas.</p>
                <br>
                <div class="code-editor">
                    <pre class="s1_par_js">
                        <span class="titlecd">fetch</span>
                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" ><g stroke-width="0" id="SVGRepo_bgCarrier"></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g><g id="SVGRepo_iconCarrier"> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M6 6L18 18"></path> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M18 6L6 18"></path> </g></svg>
                    </pre>
                    <pre class="edit_content">
<code class="code">

fetch(<span class="r">'/'</span>).then<span class="y">(</span>response <span class="b">=></span> response.text <span class="v">()</span><span class="y">)</span>.then<span class="y">(</span>text <span class="b">=></span> <span class="v">{</span>
    console.log<span class="b">(</span><span class="r">"The home page is "</span> + text.length + <span class="r">" characters long."</span><span class="b">)</span>;
    <span class="v">}</span><span class="y">)</span>;
</code>
                    </pre>
                </div>
            </section>
            <br>
            <br>
            <section class="msect1">
                <h2 class="title1">Enviando y recibiendo datos JSON a través de POST</h2>
                <p>La promesas de solicitud de recuperación, inicialmente debuelven objectos de respuesta. Estos
                    proporcionarán información de encabezado de respuesta, pero no incluyen directamente el
                    cuerpo de respuesta, que puede que ni siquiera se haya cargado todavía. Los métodos en el
                    objeto Respuesta, como .json() se pueden usar para esperar a que se cargue el cuerpo de la respuesta y luego analizarlo.</p>
                    <br>
                    <br>
                    <br>
                    <div class="code-editor">
                        <pre class="s1_par_js">
                            <span class="titlecd">fetch</span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="icon"><g stroke-width="0" id="SVGRepo_bgCarrier"></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g><g id="SVGRepo_iconCarrier"> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M6 6L18 18"></path> <path stroke-linecap="round" stroke-width="2" stroke="#4C4F5A" d="M18 6L6 18"></path> </g></svg>
                        </pre>
                        <pre class="edit_content">
    <code class="code">
        
<span class="b">const</span> requestData = <span class="y">{</span>
    method : <span class="r">'getUsers'</span>
<span class="y">}</span>;
<span class="b">const</span> usersPromise = fetch( <span class="r">'/api'</span>, {
    method : <span class="r">'POST'</span>,
    body : JSON.stringify <span class="b">(</span> requestData<span class="b">)</span>
    <span class="v">}</span><span class="y">)</span>.then<span class="y">(</span> response <span class="b">=></span> <span class="v">{</span>
    <span class="b">if (</span>!response.ok<span class="b">) {</span>
    <span class="b">throw new</span> Error<span class="y">(</span><span class="r">"Got non-2XX response from API server."</span><span class="y">)</span>;
    <span class="b">}</span>
    <span class="b">return</span> response.json<span class="b">()</span>;
    <span class="v">}</span><span class="y">)</span>.then<span class="b">(</span>responseData <span class="b">=></span> <span class="v">{</span>
        <span class="b">return</span> responseData.users;
            <span class="v">}</span><span class="y">)</span>;
usersPromise.then<span class="b">(</span> users <span class="b">=></span> <span class="v">{</span>
    console.log<span class="b">(</span><span class="r">"Known users: "</span>, users<span class="b">)</span>;
    <span class="v">}</span>, error <span class="b">=></span> <span class="v">{</span>
    console.error<span class="b">(</span><span class="r">"Failed to fetch users due to error: "</span>, error<span class="b">)</span>;
    <span class="v">}<span class="y">)</span>;
        
    </code>
                        </pre>
                    </div>
            </section>
            <br>
        
        </main>
    </div>
</body>
</html>